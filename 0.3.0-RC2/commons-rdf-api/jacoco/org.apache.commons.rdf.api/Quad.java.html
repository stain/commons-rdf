<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>Quad.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Commons RDF: API</a> &gt; <a href="index.source.html" class="el_package">org.apache.commons.rdf.api</a> &gt; <span class="el_source">Quad.java</span></div><h1>Quad.java</h1><pre class="source lang-java linenums">/**
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements. See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership. The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * &quot;License&quot;); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
package org.apache.commons.rdf.api;

import java.util.Objects;
import java.util.Optional;

/**
 * A Quad is a statement in a
 * &lt;a href= &quot;http://www.w3.org/TR/rdf11-concepts/#section-dataset&quot; &gt;RDF-1.1
 * Dataset&lt;/a&gt;, as defined by &lt;a href=
 * &quot;https://www.w3.org/TR/2014/NOTE-rdf11-datasets-20140225/#quad-semantics&quot;
 * &gt;RDF-1.1 Concepts and Abstract Syntax&lt;/a&gt;, a W3C Working Group Note published
 * on 25 February 2014.
 * &lt;p&gt;
 * A &lt;code&gt;Quad&lt;/code&gt; object in Commons RDF is considered
 * &lt;strong&gt;immutable&lt;/strong&gt;, that is, over its life time it will have
 * consistent behaviour for its {@link #equals(Object)}, and the instances
 * returned from {@link #getGraphName()}, {@link #getSubject()},
 * {@link #getPredicate()}, {@link #getObject()} and {@link #asTriple()} will
 * have consistent {@link Object#equals(Object)} behaviour.
 * &lt;p&gt;
 * Note that &lt;code&gt;Quad&lt;/code&gt; methods are not required to return object
 * identical (&lt;code&gt;==&lt;/code&gt;) instances as long as they are equivalent
 * according to {@link Object#equals(Object)}. Specialisations of
 * &lt;code&gt;Quad&lt;/code&gt; may provide additional methods that are documented to be
 * mutable.
 * &lt;p&gt;
 * &lt;code&gt;Quad&lt;/code&gt; methods are &lt;strong&gt;thread-safe&lt;/strong&gt;, however
 * specialisations may provide additional methods that are documented to not be
 * thread-safe.
 * &lt;p&gt;
 * &lt;code&gt;Quad&lt;/code&gt;s can be safely used in hashing collections like
 * {@link java.util.HashSet} and {@link java.util.HashMap}.
 * &lt;p&gt;
 * Any &lt;code&gt;Quad&lt;/code&gt; can be used interchangeably across Commons RDF
 * implementations.
 *
 * @since 0.3.0-incubating
 * @see Dataset
 * @see RDF#createQuad(BlankNodeOrIRI,BlankNodeOrIRI,IRI,RDFTerm)
 * @see &lt;a href=&quot;http://www.w3.org/TR/2014/NOTE-rdf11-datasets-20140225/&quot;&gt;RDF
 *      1.1: On Semantics of RDF Datasets&lt;/a&gt;
 * @see &lt;a href=&quot;http://www.w3.org/TR/rdf11-concepts/#section-dataset&quot;&gt; &lt;/a&gt;
 */
public interface Quad extends QuadLike&lt;BlankNodeOrIRI&gt; {

    /**
     * The graph name (graph label) of this quad, if present.
     *
     * If {@link Optional#isPresent()}, then the {@link Optional#get()} is
     * either a {@link BlankNode} or an {@link IRI}, indicating the
     * &lt;a href=&quot;https://www.w3.org/TR/rdf11-concepts/#dfn-named-graph&quot;&gt;graph
     * name&lt;/a&gt; of this Quad. If the graph name is not present, e.g. the value
     * is {@link Optional#empty()}, it indicates that this Quad is in the
     * &lt;a href=&quot;https://www.w3.org/TR/rdf11-concepts/#dfn-default-graph&quot;&gt;default
     * graph&lt;/a&gt;.
     *
     * @return If {@link Optional#isPresent()}, the graph name
     *         {@link BlankNodeOrIRI} of this quad, otherwise
     *         {@link Optional#empty()}, indicating the default graph.
     *
     * @see &lt;a href=&quot;https://www.w3.org/TR/rdf11-concepts/#dfn-rdf-dataset&quot;&gt;RDF-
     *      1.1 Dataset&lt;/a&gt;
     */
    Optional&lt;BlankNodeOrIRI&gt; getGraphName();

    /**
     * The subject of this quad, which may be either a {@link BlankNode} or an
     * {@link IRI}, which are represented in Commons RDF by the interface
     * {@link BlankNodeOrIRI}.
     *
     * @return The subject {@link BlankNodeOrIRI} of this quad.
     * @see &lt;a href=&quot;http://www.w3.org/TR/rdf11-concepts/#dfn-subject&quot;&gt;RDF-1.1
     *      Triple subject&lt;/a&gt;
     */
    BlankNodeOrIRI getSubject();

    /**
     * The predicate {@link IRI} of this quad.
     *
     * @return The predicate {@link IRI} of this quad.
     * @see &lt;a href=&quot;http://www.w3.org/TR/rdf11-concepts/#dfn-predicate&quot;&gt;RDF-1.1
     *      Triple predicate&lt;/a&gt;
     */
    IRI getPredicate();

    /**
     * The object of this quad, which may be either a {@link BlankNode}, an
     * {@link IRI}, or a {@link Literal}, which are represented in Commons RDF
     * by the interface {@link RDFTerm}.
     *
     * @return The object {@link RDFTerm} of this quad.
     * @see &lt;a href=&quot;http://www.w3.org/TR/rdf11-concepts/#dfn-object&quot;&gt;RDF-1.1
     *      Triple object&lt;/a&gt;
     */
    RDFTerm getObject();

    /**
     * Adapt this Quad to a Triple.
     * &lt;p&gt;
     * The returned {@link Triple} will have equivalent values returned from the
     * methods {@link TripleLike#getSubject()},
     * {@link TripleLike#getPredicate()} and {@link TripleLike#getObject()}.
     * &lt;p&gt;
     * The returned {@link Triple} MUST NOT be {@link #equals(Object)} to this
     * {@link Quad}, even if this quad has a default graph
     * {@link #getGraphName()} value of {@link Optional#empty()}, but MUST
     * follow the {@link Triple#equals(Object)} semantics. This means that the
     * following MUST be true:
     *
     * &lt;pre&gt;
     * Quad q1, q2;
     * if (q1.equals(q2)) {
     *     assert (q1.asTriple().equals(q2.asTriple()));
     * } else if (q1.asTriple().equals(q2.asTriple())) {
     *     assert (q1.getSubject().equals(q2.getSubject()));
     *     assert (q1.getPredicate().equals(q2.getPredicate()));
     *     assert (q1.getObject().equals(q2.getObject()));
     *     assert (!q1.getGraphName().equals(q2.getGraphName()));
     * }
     * &lt;/pre&gt;
     *
     * The &lt;code&gt;default&lt;/code&gt; implementation of this method return a proxy
     * {@link Triple} instance that keeps a reference to this {@link Quad} to
     * call the underlying {@link TripleLike} methods, but supplies a
     * {@link Triple} compatible implementation of {@link Triple#equals(Object)}
     * and {@link Triple#hashCode()}. Implementations may override this method,
     * e.g. for a more efficient solution.
     *
     * @return A {@link Triple} that contains the same {@link TripleLike}
     *         properties as this Quad.
     */
    default Triple asTriple() {
<span class="fc" id="L150">        return new Triple() {</span>
            @Override
            public BlankNodeOrIRI getSubject() {
<span class="fc" id="L153">                return Quad.this.getSubject();</span>
            }

            @Override
            public IRI getPredicate() {
<span class="fc" id="L158">                return Quad.this.getPredicate();</span>
            }

            @Override
            public RDFTerm getObject() {
<span class="fc" id="L163">                return Quad.this.getObject();</span>
            }

            @Override
            public boolean equals(Object obj) {
<span class="fc bfc" id="L168" title="All 2 branches covered.">                if (obj == this) {</span>
<span class="fc" id="L169">                    return true;</span>
                }
<span class="fc bfc" id="L171" title="All 2 branches covered.">                if (!(obj instanceof Triple)) {</span>
<span class="fc" id="L172">                    return false;</span>
                }
<span class="fc" id="L174">                Triple other = (Triple) obj;</span>
<span class="pc bpc" id="L175" title="1 of 2 branches missed.">                return Objects.equals(getSubject(), other.getSubject())</span>
<span class="pc bpc" id="L176" title="1 of 2 branches missed.">                        &amp;&amp; Objects.equals(getPredicate(), other.getPredicate())</span>
<span class="pc bpc" id="L177" title="1 of 2 branches missed.">                        &amp;&amp; Objects.equals(getObject(), other.getObject());</span>
            }

            @Override
            public int hashCode() {
<span class="fc" id="L182">                return Objects.hash(getSubject(), getPredicate(), getObject());</span>
            }
        };
    }

    /**
     * Check it this Quad is equal to another Quad.
     * &lt;p&gt;
     * Two Quads are equal if and only if their {@link #getGraphName()},
     * {@link #getSubject()}, {@link #getPredicate()} and {@link #getObject()}
     * are equal.
     * &lt;/p&gt;
     * &lt;p&gt;
     * Implementations MUST also override {@link #hashCode()} so that two equal
     * Quads produce the same hash code.
     * &lt;/p&gt;
     * &lt;p&gt;
     * Note that a {@link Quad} MUST NOT be equal to a {@link Triple}, even if
     * this Quad's {@link #getGraphName()} is {@link Optional#empty()}. To test
     * triple-like equivalence, callers can use:
     * &lt;/p&gt;
     *
     * &lt;pre&gt;
     * Quad q1;
     * Triple t2;
     * q1.asTriple().equals(t2));
     * &lt;/pre&gt;
     *
     * @param other
     *            Another object
     * @return true if other is a Quad and is equal to this
     * @see Object#equals(Object)
     */
    @Override
    public boolean equals(Object other);

    /**
     * Calculate a hash code for this Quad.
     * &lt;p&gt;
     * The returned hash code MUST be equal to the result of
     * {@link Objects#hash(Object...)} with the arguments {@link #getSubject()},
     * {@link #getPredicate()}, {@link #getObject()}, {@link #getGraphName()}.
     * &lt;p&gt;
     * This method MUST be implemented in conjunction with
     * {@link #equals(Object)} so that two equal {@link Quad}s produce the same
     * hash code.
     *
     * @return a hash code value for this Quad.
     * @see Object#hashCode()
     * @see Objects#hash(Object...)
     */
    @Override
    public int hashCode();

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.6.201602180812</span></div></body></html>